<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Class Projects Showcase</title>
  <style>
    :root{ --bg:#0f1220; --panel:#15192b; --text:#e9edf6; --muted:#a7b0c7; --brand:#4f8bff; --border:#242b42; }
    @media (prefers-color-scheme: light){ :root{ --bg:#f6f8ff; --panel:#ffffff; --text:#0d1320; --muted:#5c657a; --brand:#2563eb; --border:#e3e7f2; } }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; background:var(--bg); color:var(--text); line-height:1.55}
    a{color:inherit}

    .container{max-width:1200px; margin:0 auto; padding:20px}

    /* 3-column layout */
    .grid{display:grid; grid-template-columns: 220px 1fr 260px; gap:24px}
    @media (max-width: 1024px){ .grid{grid-template-columns: 200px 1fr} .toc{display:none} }
    @media (max-width: 720px){ .grid{grid-template-columns: 1fr} .projects{order:-1} }

    .box{background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:14px}
    .aside-title{margin:0 0 8px 0; font-size:1rem; opacity:.9}

    /* Left: projects list (vertical tabs) */
    .projects{position:sticky; top:16px; align-self:start}
    .project-nav{display:flex; flex-direction:column; gap:8px}
    .project-btn{appearance:none; border:1px solid var(--border); background:transparent; color:var(--muted); padding:10px 12px; border-radius:10px; text-align:left; cursor:pointer; font-weight:600}
    .project-btn[aria-selected="true"]{color:var(--text); background:rgba(79,139,255,.15); box-shadow:0 0 0 2px rgba(79,139,255,.3) inset}

    /* Center: content panels */
    .panel{display:none}
    .panel.active{display:block}
    .paper{background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:18px}
    h1,h2,h3{scroll-margin-top:80px}
    h2{margin-top:18px}
    .meta{color:var(--muted); margin:2px 0 14px}

    /* Right: TOC */
    .toc{position:sticky; top:16px; align-self:start}
    .toc ul{list-style:none; padding:0; margin:0; display:grid; gap:6px}
    .toc a{display:block; color:var(--muted); text-decoration:none; border-radius:8px; padding:6px 8px}
    .toc a:hover{background:rgba(79,139,255,.15); color:var(--text)}
    .toc .lvl2{padding-left:8px}
  </style>
</head>
<body>
  <div class="container">
    <header style="margin-bottom:12px">
      <h1 style="margin:0">Class Projects Showcase</h1>
      <p style="margin:6px 0 0; color:var(--muted)">Use the left list to switch projects. The right index updates per project.</p>
    </header>

    <div class="grid">
      <!-- LEFT: Projects (vertical tabs) -->
      <aside class="projects" aria-label="Projects">
        <div class="box">
          <h3 class="aside-title">Projects</h3>
          <nav class="project-nav" role="tablist" aria-orientation="vertical">
            <button class="project-btn" role="tab" data-target="#p1" aria-controls="p1" aria-selected="true">Project 1</button>
            <button class="project-btn" role="tab" data-target="#p2" aria-controls="p2" aria-selected="false">Project 2</button>
          </nav>
        </div>
      </aside>

      <!-- CENTER: Panels -->
      <main>
        <article id="p1" class="panel active" role="tabpanel" aria-labelledby="p1-tab" tabindex="0">
          <div class="paper">
            <h1>CS 180 Project 1: Images of the Russian Empire</h1>
            <p class="meta">Author • Semester • Tools: Python, NumPy, OpenCV</p>

            <h2>Introduction</h2>
            <p>Describe your goal, data sources, and a highlight result.</p>

            <h2>Methodology</h2>
            <h3>Single-Scale Version</h3>
            <p>Your NCC/SSD search and windowing.</p>
            <h3>Pyramid-Speedup Version</h3>
            <p>Gaussian pyramid and coarse-to-fine search.</p>

            <h2>Metrics</h2>
            <p>Which metric you optimized and why.</p>

            <h2>Gallery and Results</h2>
            <p>Before/after, aligned channels, colorization.</p>

            <h2>Problems Encountered</h2>
            <p>Edge cases, runtime, border handling.</p>
          </div>
        </article>

        <article id="p2" class="panel" role="tabpanel" aria-labelledby="p2-tab" tabindex="0">
          <div class="paper">
            <h1>CS 180 Project 2: Your Title</h1>
            <p class="meta">Author • Semester • Tools: scikit-image, Matplotlib</p>

            <h2>Introduction</h2>
            <p>Problem summary and contribution.</p>

            <h2>Methodology</h2>
            <h3>Core Method</h3>
            <p>Key ideas and algorithm choices.</p>
            <h3>Variants & Ablations</h3>
            <p>What variations you tried and findings.</p>

            <h2>Results</h2>
            <p>Qualitative and quantitative outcomes.</p>

            <h2>Lessons Learned</h2>
            <p>Trade-offs, improvements, future work.</p>
          </div>
        </article>
      </main>

      <!-- RIGHT: On this page (TOC) -->
      <aside class="toc" aria-label="On this page">
        <div class="box">
          <h3 class="aside-title">On this page</h3>
          <ul id="toc-list"></ul>
        </div>
      </aside>
    </div>
  </div>

  <script>
    // Vertical tabs logic
    const buttons = Array.from(document.querySelectorAll('.project-btn'));
    const panels = Array.from(document.querySelectorAll('.panel'));

    function showPanel(targetId){
      panels.forEach(p=>p.classList.toggle('active', '#' + p.id === targetId));
      buttons.forEach(b=>b.setAttribute('aria-selected', String(b.dataset.target === targetId)));
      buildTOC();
      const p = document.querySelector(targetId);
      if(p) { p.focus({preventScroll:true}); history.replaceState(null, '', targetId); }
    }

    document.querySelector('.project-nav').addEventListener('click', (e)=>{
      const btn = e.target.closest('.project-btn'); if(!btn) return; showPanel(btn.dataset.target);
    });

    document.querySelector('.project-nav').addEventListener('keydown', (e)=>{
      const i = buttons.indexOf(document.activeElement); if(i<0) return;
      if(e.key==='ArrowDown'){ e.preventDefault(); buttons[(i+1)%buttons.length].focus(); }
      if(e.key==='ArrowUp'){ e.preventDefault(); buttons[(i-1+buttons.length)%buttons.length].focus(); }
      if(e.key==='Home'){ e.preventDefault(); buttons[0].focus(); }
      if(e.key==='End'){ e.preventDefault(); buttons[buttons.length-1].focus(); }
      if(e.key==='Enter' || e.key===' '){ e.preventDefault(); const btn=document.activeElement; showPanel(btn.dataset.target); }
    });

    // Build right-hand TOC from active panel h2/h3
    function slugify(str){ return str.toLowerCase().trim().replace(/[^a-z0-9]+/g,'-').replace(/(^-|-$)/g,''); }
    function buildTOC(){
      const toc = document.getElementById('toc-list'); toc.innerHTML='';
      const active = document.querySelector('.panel.active'); if(!active) return;
      const headers = active.querySelectorAll('h2, h3');
      headers.forEach(h=>{ if(!h.id) h.id = active.id + '-' + slugify(h.textContent); });
      headers.forEach(h=>{
        const li = document.createElement('li'); if(h.tagName==='H3') li.className='lvl2';
        const a = document.createElement('a'); a.href = '#' + h.id; a.textContent = h.textContent; li.appendChild(a); toc.appendChild(li);
      });
    }

    // Smooth scrolling for TOC links
    document.addEventListener('click', (e)=>{
      const a = e.target.closest('a[href^="#"]'); if(!a) return;
      const id = a.getAttribute('href').slice(1); const target = document.getElementById(id);
      if(target){ e.preventDefault(); target.scrollIntoView({behavior:'smooth', block:'start'}); }
    });

    // Initialize from hash or default
    (function init(){
      const hash = location.hash || '#p1';
      const found = panels.some(p => '#' + p.id === hash);
      showPanel(found ? hash : '#p1');
    })();
  </script>
</body>
</html>
